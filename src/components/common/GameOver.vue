<template>
  <div class="game-over">
    <h1>üéâ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! üéâ</h1>
    <div class="score-summary">
      <div class="score-item-final">
        <div class="score-label">–ó–∞ —ç—Ç—É –∏–≥—Ä—É</div>
        <div class="final-score-number">‚≠ê {{ currentScore }}</div>
      </div>
      <div class="score-item-final">
        <div class="score-label">–í—Å–µ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ</div>
        <div class="final-score-number total-score-number">‚≠ê {{ totalScore }}</div>
      </div>
    </div>
    <StarRating :score="currentScore" />
    <div>
      <div v-if="currentScore >= 60" class="achievement">üèÜ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–µ–Ω–∏–π!</div>
      <div v-else-if="currentScore >= 40" class="achievement">ü•à –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!</div>
      <div v-else-if="currentScore >= 20" class="achievement">ü•â –•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞!</div>
      <div v-else class="achievement">üí™ –ü—Ä–æ–¥–æ–ª–∂–∞–π —É—á–∏—Ç—å—Å—è!</div>
    </div>
    <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
      <button class="btn" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;" @click="restartGame">
        –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
      </button>
      <button class="btn" style="background: linear-gradient(135deg, #28a745, #20c997); color: white;" @click="goToMain">
        –ù–∞ –≥–ª–∞–≤–Ω—É—é
      </button>
    </div>
  </div>
</template>

<script>
import StarRating from './StarRating.vue'

export default {
  name: 'GameOver',
  components: {
    StarRating
  },
  props: {
    currentScore: {
      type: Number,
      required: true
    },
    totalScore: {
      type: Number,
      required: true
    }
  },
  emits: ['restart-game', 'go-to-main'],
  methods: {
    restartGame() {
      this.$emit('restart-game')
    },
    goToMain() {
      this.$emit('go-to-main')
    }
  }
}
</script>