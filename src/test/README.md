# Тесты системы достижений

## Структура тестов

```
src/
├── store/__tests__/
│   └── achievements.test.ts     # Тесты store достижений
├── components/__tests__/
│   └── AchievementCard.test.ts  # Тесты компонента карточки достижения
├── views/__tests__/
│   └── AchievementsView.test.ts # Тесты view страницы достижений
└── test/
    ├── setup.ts                 # Настройка тестового окружения
    └── README.md               # Этот файл
```

## Запуск тестов

```bash
# Запустить все тесты (включая существующие Jest тесты)
npm run test

# Запустить только базовые тесты достижений (рекомендуется)
npm run test src/store/__tests__/achievements.basic.test.ts src/components/__tests__/AchievementCard.test.ts

# Запустить в режиме watch
npm run test:watch

# Запустить с UI интерфейсом
npm run test:ui

# Запустить с coverage отчетом
npm run test:coverage
```

## Примечание

Проект использует две системы тестирования:
- **Vitest** для новых тестов (рекомендуется)
- **Jest** для существующих тестов

Запуск тестов достижений через Vitest работает быстрее и надежнее.

## Покрытие тестов

### Achievements Store
- ✅ Инициализация store
- ✅ Разблокировка достижений
- ✅ Обновление прогресса
- ✅ Проверка условий (очки, серии, разнообразие)
- ✅ Сохранение/загрузка в localStorage
- ✅ Управление новыми достижениями
- ✅ Сброс всех достижений
- ✅ Получение прогресса

### AchievementCard Component
- ✅ Рендеринг заблокированных достижений
- ✅ Рендеринг разблокированных достижений
- ✅ Отображение прогресса
- ✅ Обработка кликов
- ✅ Форматирование даты

### AchievementsView
- ✅ Отображение статистики
- ✅ Сетка достижений
- ✅ Модальное окно с деталями
- ✅ Фильтрация скрытых достижений
- ✅ Форматирование описаний

## Тестовые данные

Тесты используют моковые данные и `localStorage` для изоляции от реальных данных.

## Рекомендации

1. Пишите тесты для новых функций достижений
2. Добавляйте тесты при изменении существующего функционала
3. Проверяйте coverage отчет для поиска непротестированного кода
4. Используйте `npm run test:ui` для удобной отладки