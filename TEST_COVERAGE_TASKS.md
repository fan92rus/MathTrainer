# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞–¥–∞–Ω–∏–π

## –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ MathTrainer.

**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** ~40%
**–¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** ~85%+

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

- üî¥ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π** -Ê†∏ÂøÉ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞—ë—Ç –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
- üü° **–í–∞–∂–Ω—ã–π** - –≤–∞–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö
- üü¢ **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π** - —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è, –º–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

---

## 1. –£–º–Ω–æ–∂–µ–Ω–∏–µ (`src/utils/math/multiplication/index.ts`)

### 1.1. `generateMultiplicationProblem(maxMultiplier: number)` üî¥

**–§–∞–π–ª —Ç–µ—Å—Ç–∞:** `src/utils/__tests__/mathHelpers.multiplication.test.ts`

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –Ω–∞ —É–º–Ω–æ–∂–µ–Ω–∏–µ —Å 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–∞.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('generateMultiplicationProblem', () => {
  test('–¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ', () => {
    // multiplier1: 1 –¥–æ maxMultiplier
    // multiplier2: 1 –¥–æ 10
  });

  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Ä–∞–≤–Ω—ã–π –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π', () => {
    // correctAnswer === multiplier1 * multiplier2
  });

  test('–¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞', () => {
    // options.length === 4
  });

  test('correctIndex –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç', () => {
    // options[correctIndex] === correctAnswer.toString()
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å maxMultiplier –≤ –æ–±—ä–µ–∫—Ç–µ –∑–∞–¥–∞—á–∏', () => {
    // problem.maxMultiplier === –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  });

  test('expression –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ñ–æ—Ä–º–∞—Ç "num1 √ó num2"', () => {
    // regexp: /^\d+\s*√ó\s*\d+$/
  });

  test('operation –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "multiplication"', () => {
    // problem.operation === 'multiplication'
  });

  test('–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏', () => {
    // new Set(options).size === 4
  });

  test('–≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏', () => {
    // –≤—Å–µ options >= 0
  });
});
```

---

### 1.2. `generateWrongMultiplicationAnswers(correctAnswer, multiplier1, multiplier2)` üî¥

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** —Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è, –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è. –¢–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ `generateMultiplicationProblem`.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ (–∫–æ—Å–≤–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

```typescript
describe('generateWrongMultiplicationAnswers (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ generateMultiplicationProblem)', () => {
  test('–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ', () => {
    // —Å—Ä–µ–¥–∏ options –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - —Ä–∞–∑–Ω—ã–µ
  });

  test('–¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏', () => {
    // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 0: –±–ª–∏–∑–∫–∏–π –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É (offset 1-5)
    // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –∑–∞–º–µ–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è
    // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –∑–∞–º–µ–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è
    // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: —Å–ª–æ–∂–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —É–º–Ω–æ–∂–µ–Ω–∏—è
    // –°—Ç—Ä–∞—Ç–µ–≥–∏—è 4: –¥–µ–ª–µ–Ω–∏–µ (–∫–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
  });

  test('—Å—Ç—Ä–∞—Ç–µ–≥–∏—è "—Å–ª–æ–∂–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —É–º–Ω–æ–∂–µ–Ω–∏—è" –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—É–º–º—É', () => {
    // –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö random –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–≤–µ—Ç = multiplier1 + multiplier2
  });

  test('—Å—Ç—Ä–∞—Ç–µ–≥–∏—è "–∑–∞–º–µ–Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—è" –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Å–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ', () => {
    // (multiplier ¬± 1) * otherMultiplier
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å fallback –ø—Ä–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã', () => {
    // –ø—Ä–∏ edge cases –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞
  });
});
```

---

### 1.3. `getAvailableMultiplicationLevels(totalScore: number)` üî¥

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ 9 —É—Ä–æ–≤–Ω–µ–π —É–º–Ω–æ–∂–µ–Ω–∏—è —Å —Ñ–ª–∞–≥–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—á–∫–æ–≤.

#### –ü—Ä–∞–≤–∏–ª–∞
- –£—Ä–æ–≤–µ–Ω—å 1 (√ó2): requiredScore = 0
- –£—Ä–æ–≤–µ–Ω—å 2 (√ó3): requiredScore = 30
- –£—Ä–æ–≤–µ–Ω—å 3 (√ó4): requiredScore = 60
- ...
- –£—Ä–æ–≤–µ–Ω—å 9 (√ó10): requiredScore = 240

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getAvailableMultiplicationLevels', () => {
  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 9 —É—Ä–æ–≤–Ω–µ–π', () => {
    // result.length === 9
  });

  test('–¥–æ–ª–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ñ–ª–∞–≥ available', () => {
    // score = 0: —Ç–æ–ª—å–∫–æ —É—Ä–æ–≤–µ–Ω—å 1 –¥–æ—Å—Ç—É–ø–µ–Ω
    // score = 30: —É—Ä–æ–≤–Ω–∏ 1-2 –¥–æ—Å—Ç—É–ø–Ω—ã
    // score = 100: —É—Ä–æ–≤–Ω–∏ 1-4 –¥–æ—Å—Ç—É–ø–Ω—ã
    // score = 300: –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
  });

  test('–∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', () => {
    // multiplier, maxMultiplier, requiredScore, level, description, examples, name, pointsPerCorrect, available
  });

  test('requiredScore –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª–µ (level - 1) * 30', () => {
    // —É—Ä–æ–≤–µ–Ω—å N: requiredScore = (N - 1) * 30
  });

  test('multiplier –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É—Ä–æ–≤–Ω—é', () => {
    // —É—Ä–æ–≤–µ–Ω—å 1 ‚Üí multiplier 2
    // —É—Ä–æ–≤–µ–Ω—å 9 ‚Üí multiplier 10
  });

  test('description –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ {multiplier}"', () => {
    // level 1: "–£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ 2"
  });

  test('examples –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 3 –ø—Ä–∏–º–µ—Ä–∞', () => {
    // examples.length === 3
    // —Ñ–æ—Ä–º–∞—Ç: ["{n} √ó 1 = {n}", "{n} √ó 5 = {n*5}", "{n} √ó 9 = {n*9}"]
  });

  test('pointsPerCorrect –¥–æ–ª–∂–µ–Ω —Ä–∞–≤–Ω—è—Ç—å—Å—è multiplier', () => {
    // —É—Ä–æ–≤–µ–Ω—å 1: pointsPerCorrect = 2
  });
});
```

---

## 2. –£—Ä–æ–≤–Ω–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏–π (`src/utils/math/equations/index.ts`)

### 2.1. `getEquationsLevelConfig(score: number)` üî¥

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —É—Ä–æ–≤–Ω—è —É—Ä–∞–≤–Ω–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å—á—ë—Ç–∞.

#### –¢–∞–±–ª–∏—Ü–∞ —É—Ä–æ–≤–Ω–µ–π

| –£—Ä–æ–≤–µ–Ω—å | requiredScore | maxNumber | minNumber | equationTypes |
|---------|---------------|-----------|-----------|---------------|
| 1 | 0 | 10 | 1 | `simple` |
| 2 | 50 | 20 | 1 | `simple` |
| 3 | 100 | 20 | 1 | `simple`, `with-parentheses` |
| 4 | 150 | 30 | 1 | `simple`, `with-parentheses` |
| 5 | 200 | 50 | 1 | `simple`, `with-parentheses` |
| 6 | 250 | 100 | 1 | `simple`, `with-parentheses`, `with-multiplication` |
| 7 | 300 | 100 | 1 | `simple`, `with-parentheses`, `with-multiplication` |
| 8 | 350 | 200 | 1 | `simple`, `with-parentheses`, `with-multiplication` |
| 9 | 400 | 200 | 1 | `simple`, `with-parentheses`, `with-multiplication` |

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getEquationsLevelConfig', () => {
  describe('–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø–æ score', () => {
    test('score < 50 ‚Üí —É—Ä–æ–≤–µ–Ω—å 1', () => {});
    test('score >= 50 && < 100 ‚Üí —É—Ä–æ–≤–µ–Ω—å 2', () => {});
    test('score >= 100 && < 150 ‚Üí —É—Ä–æ–≤–µ–Ω—å 3', () => {});
    test('score >= 150 && < 200 ‚Üí —É—Ä–æ–≤–µ–Ω—å 4', () => {});
    test('score >= 200 && < 250 ‚Üí —É—Ä–æ–≤–µ–Ω—å 5', () => {});
    test('score >= 250 && < 300 ‚Üí —É—Ä–æ–≤–µ–Ω—å 6', () => {});
    test('score >= 300 && < 350 ‚Üí —É—Ä–æ–≤–µ–Ω—å 7', () => {});
    test('score >= 350 && < 400 ‚Üí —É—Ä–æ–≤–µ–Ω—å 8', () => {});
    test('score >= 400 ‚Üí —É—Ä–æ–≤–µ–Ω—å 9', () => {});
  });

  describe('–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏', () => {
    test('–≤—Å–µ —É—Ä–æ–≤–Ω–∏ –∏–º–µ—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', () => {
      // level, maxNumber, minNumber, equationTypes, description, example, complexity, requiredScore
    });

    test('—É—Ä–æ–≤–µ–Ω—å 1: —Ç–æ–ª—å–∫–æ simple —É—Ä–∞–≤–Ω–µ–Ω–∏—è', () => {
      // equationTypes === ['simple']
      // maxNumber === 10
    });

    test('—É—Ä–æ–≤–µ–Ω—å 3: –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è with-parentheses', () => {
      // equationTypes.includes('with-parentheses')
    });

    test('—É—Ä–æ–≤–µ–Ω—å 6: –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è with-multiplication', () => {
      // equationTypes.includes('with-multiplication')
    });

    test('complexity –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç —Å —É—Ä–æ–≤–Ω–µ–º', () => {
      // 1 ‚Üí 1.0, 9 ‚Üí 4.0
    });
  });

  describe('–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è', () => {
    test('score = 49 ‚Üí —É—Ä–æ–≤–µ–Ω—å 1', () => {});
    test('score = 50 ‚Üí —É—Ä–æ–≤–µ–Ω—å 2', () => {});
    test('score = 399 ‚Üí —É—Ä–æ–≤–µ–Ω—å 8', () => {});
    test('score = 400 ‚Üí —É—Ä–æ–≤–µ–Ω—å 9', () => {});
  });
});
```

---

### 2.2. `getNextEquationsLevel(currentScore: number)` üî¥

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–≤–Ω–µ –∏–ª–∏ null –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getNextEquationsLevel', () => {
  test('–¥–ª—è —É—Ä–æ–≤–Ω—è 9 –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å null', () => {
    // score >= 400 ‚Üí null
  });

  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π currentLevel', () => {
    // score = 25 ‚Üí currentLevel = 1
  });

  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π nextLevel', () => {
    // score = 25 ‚Üí nextLevel = 2
  });

  test('scoreEnough –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –æ—á–∫–æ–≤ –Ω—É–∂–Ω–æ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è', () => {
    // score = 20, level 1 ‚Üí scoreNeeded = 30 (50 - 20)
  });

  test('–¥–ª—è —É–∂–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–≥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è scoreNeeded = 0', () => {
    // score = 100 (—É—Ä–æ–≤–µ–Ω—å 3), nextLevel = 4 (—Ç—Ä–µ–±—É–µ—Ç 150)
    // scoreNeeded –º–æ–∂–µ—Ç –±—ã—Ç—å > 0 –µ—Å–ª–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ
  });

  test('nextLevelConfig –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é', () => {
    // –≤—Å–µ –ø–æ–ª—è –∏–∑ EquationsLevelConfig
  });
});
```

---

### 2.3. `getAllEquationsLevels()` üî¥

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getAllEquationsLevels', () => {
  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ 9 —É—Ä–æ–≤–Ω–µ–π', () => {
    // result.length === 9
  });

  test('–∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å level, description, requiredScore', () => {
    // –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  });

  test('—É—Ä–æ–≤–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é', () => {
    // result[0].level === 1, result[8].level === 9
  });

  test('requiredScore –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü–µ', () => {
    // 0, 50, 100, 150, 200, 250, 300, 350, 400
  });

  test('description –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è', () => {
    // –≤—Å–µ description —Ä–∞–∑–ª–∏—á–Ω—ã
  });
});
```

---

### 2.4. `generateEquationProblemManual(currentScore, previousX)` üî¥

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –±–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('generateEquationProblemManual', () => {
  test('–Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å options', () => {
    // !('options' in result)
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å correctIndex', () => {
    // !('correctIndex' in result)
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å expression', () => {
    // typeof result.expression === 'string'
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å correctAnswer', () => {
    // typeof result.correctAnswer === 'number'
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å difficulty', () => {
    // typeof result.difficulty === 'number'
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å equationType', () => {
    // ['simple', 'with-parentheses', 'with-multiplication'].includes(result.equationType)
  });

  test('expression –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å equationType', () => {
    // simple: —Å–æ–¥–µ—Ä–∂–∏—Ç 'x', –Ω–æ –Ω–µ —Å–∫–æ–±–∫–∏ –∏ –Ω–µ '√ó'
    // with-parentheses: —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫–æ–±–∫–∏
    // with-multiplication: —Å–æ–¥–µ—Ä–∂–∏—Ç '√ó'
  });

  test('–¥–æ–ª–∂–µ–Ω –∏–∑–±–µ–≥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è previousX', () => {
    // –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ previousX –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥–æ–π x
  });
});
```

---

## 3. –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (`src/utils/math/common/index.ts`)

### 3.1. `generateCloseAnswers(correctAnswer, minDistance, maxDistance, options, maxAttempts)` üü°

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤, –±–ª–∏–∑–∫–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É, –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('generateCloseAnswers', () => {
  test('–¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [correctAnswer - maxDistance, correctAnswer + maxDistance]', () => {
    // correctAnswer = 50, minDistance = 2, maxDistance = 5
    // –≤—Å–µ answers –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [45, 55] –∫—Ä–æ–º–µ 50
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç', () => {
    // !options.includes(correctAnswer)
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã', () => {
    // new Set(options).size === options.length
  });

  test('–æ—Ç–≤–µ—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏', () => {
    // –≤—Å–µ options >= 0
  });

  test('minDistance –¥–æ–ª–∂–µ–Ω —Å–æ–±–ª—é–¥–∞—Ç—å—Å—è', () => {
    // correctAnswer = 50, minDistance = 3
    // –≤—Å–µ answers –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –º–∏–Ω–∏–º—É–º –Ω–∞ 3
  });

  test('–¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤', () => {
    // –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π options –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è
  });

  test('–¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ 3 –æ—Ç–≤–µ—Ç–æ–≤', () => {
    // options.length <= 3 –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ (–∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç 3)
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å maxAttempts', () => {
    // –ø—Ä–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ maxAttempts
  });
});
```

---

### 3.2. `generateLastDigitErrors(correctAnswer, options, maxAttempts)` üü°

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å –æ—à–∏–±–∫–æ–π –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–∏—Ñ—Ä–µ.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('generateLastDigitErrors', () => {
  test('–¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω—é—é —Ü–∏—Ñ—Ä—É', () => {
    // correctAnswer = 123
    // –≤–∞—Ä–∏–∞–Ω—Ç—ã: 120, 121, 122, 124, 125, ... (–∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—Ü—ã)
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–µ—Å—è—Ç–∫–∏', () => {
    // correctAnswer = 45
    // Math.floor(answer / 10) === 4 –¥–ª—è –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç', () => {
    // !options.includes(correctAnswer)
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã', () => {
    // —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å —á–∏—Å–ª–∞–º–∏ –º–µ–Ω—å—à–µ 10', () => {
    // correctAnswer = 5
    // –≤–∞—Ä–∏–∞–Ω—Ç—ã: 0, 1, 2, 3, 4, 6, 7, 8, 9
  });

  test('–ø–æ—Å–ª–µ–¥–Ω—è—è —Ü–∏—Ñ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥—Ä—É–≥–æ–π', () => {
    // answer % 10 !== correctAnswer % 10
  });
});
```

---

### 3.3. `generateTensErrors(correctAnswer, options, maxAttempts)` üü°

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å –æ—à–∏–±–∫–æ–π –≤ –¥–µ—Å—è—Ç–∫–∞—Ö.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('generateTensErrors', () => {
  test('–¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–∏', () => {
    // correctAnswer = 45
    // –≤–∞—Ä–∏–∞–Ω—Ç—ã: 15, 25, 35, 55, 65, ... (–µ–¥–∏–Ω–∏—Ü—ã = 5)
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ–¥–∏–Ω–∏—Ü—ã', () => {
    // correctAnswer = 123
    // answer % 10 === 3 –¥–ª—è –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç', () => {
    // !options.includes(correctAnswer)
  });

  test('–Ω–µ –¥–æ–ª–∂–µ–Ω –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã', () => {
    // —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
  });

  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—É—Å—Ç–æ–π –¥–ª—è —á–∏—Å–µ–ª < 10', () => {
    // correctAnswer = 5
    // options –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è (–≤ —Ü–∏–∫–ª–µ —É—Å–ª–æ–≤–∏–µ correctAnswer >= 10)
  });

  test('–Ω–æ–≤—ã–µ –¥–µ—Å—è—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –º–∏–Ω–∏–º—É–º –Ω–∞ 1', () => {
    // Math.abs(newTens - originalTens) >= 1
  });

  test('–¥–µ—Å—è—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 1', () => {
    // Math.floor(answer / 10) >= 1
  });
});
```

---

### 3.4. `isTooCloseToOthers(answer, existingAnswers, minDistance)` üü°

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('isTooCloseToOthers', () => {
  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å true –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–æ–∫', () => {
    // answer = 5, existing = [3, 8], minDistance = 2
    // |5 - 3| = 2 < minDistance ‚Üí true (—Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤ –∫–æ–¥–µ: < minDistance)
  });

  test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å false –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–ª—ë–∫', () => {
    // answer = 10, existing = [3, 8], minDistance = 2
    // |10 - 8| = 2, >= minDistance ‚Üí false
  });

  test('–¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã', () => {
    // answer = 5, existing = [1, 10, 20], minDistance = 2
    // |5 - 1| = 4 >= 2, |5 - 10| = 5 >= 2, |5 - 20| = 15 >= 2 ‚Üí false
  });

  test('minDistance –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é = 2', () => {
    // isTooCloseToOthers(5, [3]) ‚Üí true
  });

  test('–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ existingAnswers ‚Üí false', () => {
    // existingAnswers = [] ‚Üí false (none.some ‚Üí false)
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–∏–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –æ—Ç–≤–µ—Ç–æ–º', () => {
    // answer = 5, existing = [7], minDistance = 3
    // |5 - 7| = 2 < 3 ‚Üí true
  });
});
```

---

### 3.5. `ensureUniqueAnswers(answers)` üü°

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('ensureUniqueAnswers', () => {
  test('–¥–æ–ª–∂–µ–Ω —É–¥–∞–ª—è—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã', () => {
    // [1, 2, 2, 3, 3, 3] ‚Üí [1, 2, 3]
  });

  test('–¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è', () => {
    // [3, 1, 2, 1, 3] ‚Üí [3, 1, 2] (Set —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏)
  });

  test('–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ ‚Üí –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤', () => {
    // [] ‚Üí []
  });

  test('–º–∞—Å—Å–∏–≤ –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ ‚Üí —Ç–æ—Ç –∂–µ –º–∞—Å—Å–∏–≤', () => {
    // [1, 2, 3] ‚Üí [1, 2, 3] (–Ω–æ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤/Set)
  });

  test('–≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ‚Üí –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç', () => {
    // [5, 5, 5] ‚Üí [5]
  });
});
```

---

### 3.6. `createMathExpression(num1, num2, operation)` üü°

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('createMathExpression', () => {
  test('–¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ addition –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "+"', () => {
    // createMathExpression(2, 3, 'addition') === '2 + 3'
  });

  test('–¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ subtraction –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "-"', () => {
    // createMathExpression(5, 2, 'subtraction') === '5 - 2'
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏', () => {
    // createMathExpression(-5, 3, 'addition') === '-5 + 3'
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω—É–ª—ë–º', () => {
    // createMathExpression(0, 5, 'addition') === '0 + 5'
  });
});
```

---

### 3.7. `calculateMathResult(num1, num2, operation)` üü°

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('calculateMathResult', () => {
  test('–¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ addition –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—É–º–º—É', () => {
    // calculateMathResult(2, 3, 'addition') === 5
  });

  test('–¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ subtraction –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞–∑–Ω–æ—Å—Ç—å', () => {
    // calculateMathResult(5, 2, 'subtraction') === 3
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏', () => {
    // calculateMathResult(-5, 3, 'addition') === -2
  });

  test('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω—É–ª—ë–º', () => {
    // calculateMathResult(0, 5, 'addition') === 5
  });

  test('–≤—ã—á–∏—Ç–∞–Ω–∏–µ –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç', () => {
    // calculateMathResult(3, 5, 'subtraction') === -2
  });
});
```

---

## 4. –•–µ–ª–ø–µ—Ä—ã –∫–ª–∞—Å—Å–æ–≤ (`src/utils/gradeHelpers.ts`)

### 4.1. `getCurrentQuarter()` üü°

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π —á–µ—Ç–≤–µ—Ä—Ç–∏ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞ (1-4) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.

#### –ü—Ä–∞–≤–∏–ª–∞
- –°–µ–Ω—Ç—è–±—Ä—å-–û–∫—Ç—è–±—Ä—å (9-10) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å
- –ù–æ—è–±—Ä—å-–î–µ–∫–∞–±—Ä—å (11-12) ‚Üí 2 —á–µ—Ç–≤–µ—Ä—Ç—å
- –Ø–Ω–≤–∞—Ä—å-–ú–∞—Ä—Ç (1-3) ‚Üí 3 —á–µ—Ç–≤–µ—Ä—Ç—å
- –ê–ø—Ä–µ–ª—å-–ú–∞–π (4-5) ‚Üí 4 —á–µ—Ç–≤–µ—Ä—Ç—å
- –ò—é–Ω—å-–ê–≤–≥—É—Å—Ç (6-8) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å (–Ω–æ–≤—ã–π —É—á–µ–±–Ω—ã–π –≥–æ–¥)

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getCurrentQuarter', () => {
  test('—Å–µ–Ω—Ç—è–±—Ä—å (–º–µ—Å—è—Ü 9) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
    // mock Date.now() –¥–ª—è —Å–µ–Ω—Ç—è–±—Ä—è
  });

  test('–æ–∫—Ç—è–±—Ä—å (–º–µ—Å—è—Ü 10) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–Ω–æ—è–±—Ä—å (–º–µ—Å—è—Ü 11) ‚Üí 2 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–¥–µ–∫–∞–±—Ä—å (–º–µ—Å—è—Ü 12) ‚Üí 2 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('—è–Ω–≤–∞—Ä—å (–º–µ—Å—è—Ü 1) ‚Üí 3 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('—Ñ–µ–≤—Ä–∞–ª—å (–º–µ—Å—è—Ü 2) ‚Üí 3 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–º–∞—Ä—Ç (–º–µ—Å—è—Ü 3) ‚Üí 3 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–∞–ø—Ä–µ–ª—å (–º–µ—Å—è—Ü 4) ‚Üí 4 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–º–∞–π (–º–µ—Å—è—Ü 5) ‚Üí 4 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–∏—é–Ω—å (–º–µ—Å—è—Ü 6) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–∏—é–ª—å (–º–µ—Å—è—Ü 7) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});

  test('–∞–≤–≥—É—Å—Ç (–º–µ—Å—è—Ü 8) ‚Üí 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {});
});
```

---

### 4.2. `getDifficultySettings(grade, quarter)` üü°

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∞ –∏ —á–µ—Ç–≤–µ—Ä—Ç–∏.

#### –¢–∞–±–ª–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π

| –ö–ª–∞—Å—Å | –ß–µ—Ç–≤–µ—Ä—Ç—å | maxCountingNumber | maxDecompositionNumber |
|-------|----------|-------------------|------------------------|
| 1 | 1 | 10 | 10 |
| 1 | 2 | 20 | 20 |
| 1 | 3 | 20 | 20 |
| 1 | 4 | 20 | 20 |
| 2-4 | –ª—é–±–∞—è | 100 | 100 |

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getDifficultySettings', () => {
  describe('1 –∫–ª–∞—Å—Å', () => {
    test('1 —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí —á–∏—Å–ª–∞ –¥–æ 10', () => {
      // maxCountingNumber = 10, maxDecompositionNumber = 10
    });

    test('2-4 —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí —á–∏—Å–ª–∞ –¥–æ 20', () => {
      // maxCountingNumber = 20, maxDecompositionNumber = 20
    });

    test('description –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–ª–∞—Å—Å –∏ —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
      // "1 –∫–ª–∞—Å—Å, 1 —á–µ—Ç–≤–µ—Ä—Ç—å: —á–∏—Å–ª–∞ –¥–æ 10"
    });
  });

  describe('2-4 –∫–ª–∞—Å—Å', () => {
    test('–≤—Å–µ —á–µ—Ç–≤–µ—Ä—Ç–∏ ‚Üí —á–∏—Å–ª–∞ –¥–æ 100', () => {
      // maxCountingNumber = 100, maxDecompositionNumber = 100
    });

    test('2 –∫–ª–∞—Å—Å, 3 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
      // –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    });

    test('3 –∫–ª–∞—Å—Å, 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
      // –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    });

    test('4 –∫–ª–∞—Å—Å, 4 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
      // –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    });
  });

  describe('–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è', () => {
    test('–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å ‚Üí fallback –Ω–∞ 1 –∫–ª–∞—Å—Å, 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
      // getDifficultySettings(99, 1) ‚Üí –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 1.1
    });

    test('–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí fallback –Ω–∞ 1 –∫–ª–∞—Å—Å, 1 —á–µ—Ç–≤–µ—Ä—Ç—å', () => {
      // getDifficultySettings(1, 99) ‚Üí –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 1.1
    });
  });
});
```

---

### 4.3. `getAvailableExercises(grade, quarter)` üü°

#### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è—Ö –¥–ª—è –∫–ª–∞—Å—Å–∞ –∏ —á–µ—Ç–≤–µ—Ä—Ç–∏.

#### –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

| –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ | –£—Å–ª–æ–≤–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ |
|------------|---------------------|
| counting | –≤—Å–µ–≥–¥–∞ |
| firstGradeDecomposition | grade === 1 && quarter >= 2 |
| decomposition | grade >= 2 |
| multiplication | (grade === 2 && quarter >= 3) \|\| grade > 2 |
| equations | (grade === 2 && quarter >= 2) \|\| grade > 2 |

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('getAvailableExercises', () => {
  describe('counting (–¢—Ä–µ–Ω–∞–∂–µ—Ä —Å—á–µ—Ç–∞)', () => {
    test('–¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–≥–¥–∞ –¥–ª—è –ª—é–±–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ —á–µ—Ç–≤–µ—Ä—Ç–∏', () => {
      // –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ available = true
    });

    test('title = "–¢—Ä–µ–Ω–∞–∂–µ—Ä —Å—á–µ—Ç–∞"', () => {
      // counting.title === '–¢—Ä–µ–Ω–∞–∂–µ—Ä —Å—á–µ—Ç–∞'
    });
  });

  describe('firstGradeDecomposition (–°–æ—Å—Ç–∞–≤ —á–∏—Å–ª–∞ 1 –∫–ª–∞—Å—Å)', () => {
    test('1 –∫–ª–∞—Å—Å, 1 —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = false
    });

    test('1 –∫–ª–∞—Å—Å, 2+ —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = true
    });

    test('2+ –∫–ª–∞—Å—Å ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = false
    });
  });

  describe('decomposition (–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º)', () => {
    test('1 –∫–ª–∞—Å—Å ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = false
    });

    test('2+ –∫–ª–∞—Å—Å ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = true
    });
  });

  describe('multiplication (–¢–∞–±–ª–∏—Ü–∞ —É–º–Ω–æ–∂–µ–Ω–∏—è)', () => {
    test('2 –∫–ª–∞—Å—Å, 1-2 —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = false
    });

    test('2 –∫–ª–∞—Å—Å, 3+ —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = true
    });

    test('3+ –∫–ª–∞—Å—Å ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–≥–¥–∞', () => {
      // available = true
    });
  });

  describe('equations (–ü—Ä–æ—Å—Ç—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è)', () => {
    test('2 –∫–ª–∞—Å—Å, 1 —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = false
    });

    test('2 –∫–ª–∞—Å—Å, 2+ —á–µ—Ç–≤–µ—Ä—Ç—å ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω', () => {
      // available = true
    });

    test('3+ –∫–ª–∞—Å—Å ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–≥–¥–∞', () => {
      // available = true
    });
  });

  describe('—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞', () => {
    test('–≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏–º–µ—é—Ç title, description, available', () => {
      // –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ExerciseInfo
    });

    test('description –Ω–µ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞', () => {
      // –≤—Å–µ description.length > 0
    });
  });
});
```

---

## 5. –ö–æ–º–ø–æ–∑–∞–±–ª—ã (`src/composables/useGameLogic.ts`)

### 5.1. `useGameLogic(totalQuestions)` üü¢

#### –û–ø–∏—Å–∞–Ω–∏–µ
–ö–æ–º–ø–æ–∑–∞–±–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Vue-–∫–æ–º–ø–æ–∑–∞–±–ª–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è `@vue/test-utils`.

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('useGameLogic', () => {
  describe('—Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏', () => {
    test('–¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ ref', () => {
      // score, currentQuestion, answered, selectedIndex, gameOver, etc.
    });

    test('progressPercent = 0 –≤ –Ω–∞—á–∞–ª–µ', () => {
      // progressPercent.value === 0
    });

    test('currentProblem = null –≤ –Ω–∞—á–∞–ª–µ', () => {
      // currentProblem.value === null
    });
  });

  describe('initializeGame()', () => {
    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å score –≤ 0', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å currentQuestion –≤ 0', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å answered –≤ false', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å selectedIndex –≤ null', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å gameOver –≤ false', () => {});

    test('–¥–æ–ª–∂–µ–Ω –æ—á–∏—â–∞—Ç—å problems', () => {
      // problems.value === []
    });

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å correctAnswers –∏ totalAnswers', () => {});

    test('–¥–æ–ª–∂–µ–Ω –æ—á–∏—â–∞—Ç—å errorsPerQuestion', () => {
      // errorsPerQuestion.value === []
    });
  });

  describe('selectAnswer(index, correctIndex, onCorrect)', () => {
    test('–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí answered = true', () => {});

    test('–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –æ—á–∫–∏', () => {
      // 0 –æ—à–∏–±–æ–∫ ‚Üí 10 –æ—á–∫–æ–≤
      // 1 –æ—à–∏–±–∫–∞ ‚Üí 5 –æ—á–∫–æ–≤
      // 2+ –æ—à–∏–±–æ–∫ ‚Üí 0 –æ—á–∫–æ–≤
    });

    test('–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí correctAnswers++', () => {});

    test('–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è onCorrect —Å –æ—á–∫–∞–º–∏', () => {});

    test('–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí answered –æ—Å—Ç–∞—ë—Ç—Å—è false', () => {});

    test('–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí –æ—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ errorsPerQuestion', () => {});

    test('–ø–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç ‚Üí totalAnswers++', () => {});

    test('–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –æ—á–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ', () => {});
  });

  describe('nextQuestion()', () => {
    test('–¥–æ–ª–∂–µ–Ω —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å currentQuestion', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å answered', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å selectedIndex', () => {});

    test('–ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ ‚Üí gameOver = true', () => {
      // currentQuestion >= totalQuestions
    });

    test('–∫–∞–∂–¥—ã–µ 3 –≤–æ–ø—Ä–æ—Å–∞ ‚Üí level++', () => {
      // —Ç–µ–∫—É—â–∏–π % 3 === 0
    });
  });

  describe('generateAllProblems(generator)', () => {
    test('–¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å totalQuestions –∑–∞–¥–∞—á', () => {});

    test('–¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å previousX –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä', () => {
      // –¥–ª—è —É—Ä–∞–≤–Ω–µ–Ω–∏–π
    });

    test('–¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å –≤–æ–ø—Ä–æ—Å–∞ –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä', () => {
      // questionIndex –æ—Ç 0 –¥–æ totalQuestions-1
    });
  });

  describe('getGameResult()', () => {
    test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π GameResult', () => {
      // –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    });

    test('score —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–º—É —Å—á—ë—Ç—É', () => {});

    test('correctAnswers –∏ totalAnswers –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã', () => {});

    test('timeSpent –∏ averageTime = 0 (–≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏)', () => {});

    test('achievements = –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤', () => {
      // achievements === []
    });
  });

  describe('setManualMode(enabled)', () => {
    test('enabled = true ‚Üí manualMode.value = true', () => {});

    test('enabled = false ‚Üí manualMode.value = false', () => {});
  });

  describe('–≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞', () => {
    test('progressPercent —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', () => {
      // (currentQuestion / totalQuestions) * 100
    });

    test('currentProblem –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É', () => {
      // problems.value[currentQuestion.value]
    });
  });
});
```

---

### 5.2. `useGameTimer()` üü¢

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('useGameTimer', () => {
  beforeEach(() => {
    jest.useFakeTimers();
  });

  afterEach(() => {
    jest.runOnlyPendingTimers();
    jest.useRealTimers();
  });

  describe('start()', () => {
    test('–¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–∞–π–º–µ—Ä', () => {
      // isRunning.value === true
    });

    test('–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª', () => {
      // —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω interval
    });

    test('–¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å elapsedTime –∫–∞–∂–¥—ã–µ 100–º—Å', () => {
      // advanceTimersBy(100) ‚Üí elapsedTime –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
    });
  });

  describe('stop()', () => {
    test('–¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä', () => {
      // isRunning.value === false
    });

    test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å elapsedTime', () => {
      // typeof result === 'number'
    });

    test('–¥–æ–ª–∂–µ–Ω –æ—á–∏—â–∞—Ç—å interval', () => {
      // clearInterval –≤—ã–∑–≤–∞–Ω
    });

    test('stop –±–µ–∑ start ‚Üí –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å', () => {});
  });

  describe('reset()', () => {
    test('–¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä', () => {
      // –≤—ã–∑—ã–≤–∞–µ—Ç stop()
    });

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å elapsedTime –≤ 0', () => {});

    test('–¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å startTime –≤ 0', () => {});
  });

  describe('getTimeInSeconds()', () => {
    test('–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö', () => {
      // 5000–º—Å ‚Üí 5
      // 1530–º—Å ‚Üí 1
    });

    test('–¥–æ–ª–∂–µ–Ω –æ–∫—Ä—É–≥–ª—è—Ç—å –≤–Ω–∏–∑', () => {
      // 1999–º—Å ‚Üí 1
    });
  });

  describe('getFormattedTime()', () => {
    test('–¥–æ–ª–∂–µ–Ω —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ MM:SS', () => {
      // regexp: /^\d{2}:\d{2}$/
    });

    test('65 —Å–µ–∫—É–Ω–¥ ‚Üí 01:05', () => {});

    test('5 —Å–µ–∫—É–Ω–¥ ‚Üí 00:05', () => {});

    test('0 —Å–µ–∫—É–Ω–¥ ‚Üí 00:00', () => {});

    test('3661 —Å–µ–∫—É–Ω–¥ (61:01) ‚Üí 61:01', () => {});
  });
});
```

---

### 5.3. `useSound(options)` üü¢

#### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏

```typescript
describe('useSound', () => {
  describe('playSound(type)', () => {
    test('–ø—Ä–∏ enabled = false –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫', () => {
      // AudioContext –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
    });

    test('type = "correct" ‚Üí –Ω–æ—Ç—ã C5, E5, G5', () => {
      // frequency: 523.25, 659.25, 783.99
    });

    test('type = "incorrect" ‚Üí –Ω–æ—Ç—ã 200, 150', () => {
      // frequency —Å–Ω–∏–∂–∞–µ—Ç—Å—è
    });

    test('type = "complete" ‚Üí –Ω–æ—Ç—ã C5, E5, G5, C6', () => {
      // frequency: 523.25, 659.25, 783.99, 1046.5
    });

    test('–¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å volume', () => {
      // gainNode.gain.value === options.volume
    });

    test('–¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å oscillator —á–µ—Ä–µ–∑ 0.3—Å', () => {
      // oscillator.stop currentTime + 0.3
    });
  });

  describe('toggleSound()', () => {
    test('–¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å enabled', () => {
      // true ‚Üí false ‚Üí true
    });
  });

  describe('setVolume(volume)', () => {
    test('–¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å volume', () => {
      // setVolume(0.7) ‚Üí volume === 0.7
    });

    test('volume < 0 ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0', () => {
      // clamp –º–∏–Ω–∏–º—É–º
    });

    test('volume > 1 ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1', () => {
      // clamp –º–∞–∫—Å–∏–º—É–º
    });
  });

  describe('–≥–µ—Ç—Ç–µ—Ä—ã', () => {
    test('isEnabled() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π enabled', () => {});

    test('getVolume() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π volume', () => {});
  });

  describe('–æ–ø—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', () => {
    test('enabled = true –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', () => {});

    test('volume = 0.5 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', () => {});
  });
});
```

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (–Ω–µ–¥–µ–ª—è 1-2)

1. ‚úÖ `generateMultiplicationProblem()` - –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
2. ‚úÖ `generateWrongMultiplicationAnswers()` - –∫–æ—Å–≤–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
3. ‚úÖ `getAvailableMultiplicationLevels()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
4. ‚úÖ `getEquationsLevelConfig()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
5. ‚úÖ `getNextEquationsLevel()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
6. ‚úÖ `getAllEquationsLevels()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
7. ‚úÖ `generateEquationProblemManual()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –≠—Ç–∞–ø 2: –í–∞–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã (–Ω–µ–¥–µ–ª—è 3-4)

8. ‚úÖ `generateCloseAnswers()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
9. ‚úÖ `generateLastDigitErrors()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
10. ‚úÖ `generateTensErrors()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
11. ‚úÖ `isTooCloseToOthers()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
12. ‚úÖ `ensureUniqueAnswers()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
13. ‚úÖ `createMathExpression()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
14. ‚úÖ `calculateMathResult()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
15. ‚úÖ `getCurrentQuarter()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Å –º–æ–∫–æ–º –¥–∞—Ç—ã)
16. ‚úÖ `getDifficultySettings()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã
17. ‚úÖ `getAvailableExercises()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –≠—Ç–∞–ø 3: –ö–æ–º–ø–æ–∑–∞–±–ª—ã (–Ω–µ–¥–µ–ª—è 5-6)

18. ‚úÖ `useGameLogic()` - –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
19. ‚úÖ `useGameTimer()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å fake timers
20. ‚úÖ `useSound()` - –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –º–æ–∫–æ–º AudioContext

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤

–î–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö `Math.random()`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –º–æ–∫–∞—Ç—å –µ–≥–æ:

```typescript
const mockMathRandom = jest.fn();
Object.defineProperty(global, 'Math', {
  value: { ...Math, random: mockMathRandom },
  writable: true,
});

// –í —Ç–µ—Å—Ç–∞—Ö
mockMathRandom.mockReturnValueOnce(0.5);
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–∞—Ç–æ–π

–î–ª—è `getCurrentQuarter()` –Ω—É–∂–Ω–æ –º–æ–∫–∞—Ç—å `Date`:

```typescript
jest.spyOn(Date.prototype, 'getMonth').mockReturnValue(8); // –°–µ–Ω—Ç—è–±—Ä—å
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AudioContext

–î–ª—è `useSound()` –Ω—É–∂–Ω–æ –º–æ–∫–∞—Ç—å `window.AudioContext`:

```typescript
const mockCreateOscillator = jest.fn();
window.AudioContext = jest.fn().mockImplementation(() => ({
  createOscillator: mockCreateOscillator,
  // ...
}));
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`npm test`)
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ –Ω–µ –º–µ–Ω–µ–µ 85% –¥–ª—è –º–æ–¥—É–ª–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á
- –ù–µ—Ç flaky —Ç–µ—Å—Ç–æ–≤ (–≤—Å–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- –¢–µ—Å—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
