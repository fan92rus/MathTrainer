<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –¥–ª—è –¥–µ—Ç–µ–π - Vue.js</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div class="app-container">
            <div v-if="!gameOver" class="game-container">
                <div class="header">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <span class="level-indicator">–£—Ä–æ–≤–µ–Ω—å {{ currentLevel }}</span>
                    </div>
                    <h1 class="title">–í—ã–±–µ—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è</h1>
                </div>
                
                <div class="stats-bar">
                    <div class="score-display">
                        <div class="score-item">
                            <div class="score-label">–¢–µ–∫—É—â–∏–µ</div>
                            <div class="score-value">‚≠ê {{ score }}</div>
                        </div>
                        <div class="score-item">
                            <div class="score-label">–í—Å–µ–≥–æ</div>
                            <div class="score-value total-score-value">‚≠ê {{ totalScore }}</div>
                        </div>
                    </div>
                    <div class="progress-info">
                        –í–æ–ø—Ä–æ—Å {{ currentQuestion + 1 }} –∏–∑ {{ totalQuestions }}
                    </div>
                </div>
                
                <div class="math-expression">
                    {{ currentProblem.expression }}
                </div>
                
                <div class="progress-bar">
                    <div class="progress" :style="{ width: progressPercent + '%' }"></div>
                </div>
                
                <div class="stars-container">
                    <span v-for="n in 3" :key="n" class="star" :class="{ filled: score >= n * 20 }">‚òÖ</span>
                </div>
                
                <div class="options-grid">
                    <div 
                        v-for="(option, index) in currentProblem.options" 
                        :key="index"
                        class="option-card"
                        :class="{ 
                            correct: answered && index === currentProblem.correctIndex,
                            incorrect: answered && index === selectedIndex && index !== currentProblem.correctIndex,
                            disabled: answered
                        }"
                        @click="selectAnswer(index)"
                    >
                        {{ option }}
                    </div>
                </div>
                
            </div>
            
            <div v-else class="game-container game-over">
                <h1>üéâ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! üéâ</h1>
                <div class="score-summary">
                    <div class="score-item-final">
                        <div class="score-label">–ó–∞ —ç—Ç—É –∏–≥—Ä—É</div>
                        <div class="final-score-number">‚≠ê {{ score }}</div>
                    </div>
                    <div class="score-item-final">
                        <div class="score-label">–í—Å–µ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ</div>
                        <div class="final-score-number total-score-number">‚≠ê {{ totalScore }}</div>
                    </div>
                </div>
                <div class="stars-container">
                    <span v-for="n in 3" :key="n" class="star" :class="{ filled: score >= n * 20 }">‚òÖ</span>
                </div>
                <div>
                    <div v-if="score >= 60" class="achievement">üèÜ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–µ–Ω–∏–π!</div>
                    <div v-else-if="score >= 40" class="achievement">ü•à –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!</div>
                    <div v-else-if="score >= 20" class="achievement">ü•â –•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞!</div>
                    <div v-else class="achievement">üí™ –ü—Ä–æ–¥–æ–ª–∂–∞–π —É—á–∏—Ç—å—Å—è!</div>
                </div>
                <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                    <button class="btn" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;" @click="restartGame">
                        –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
                    </button>
                    <button class="btn" style="background: linear-gradient(135deg, #28a745, #20c997); color: white;" @click="goToMain">
                        –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>