# Система достижений

## Как работает

### 1. Проверка достижений на главной странице

Достижения теперь проверяются на главной странице (`HomeView.vue`) при следующих условиях:
- Пользователь заходит на главную страницу
- Нет ни одного разблокированного достижения
- Общее количество очков > 0

### 2. Типы проверок

При проверке выполняются:
- **Общие очки** - за накопление определенного количества очков
- **Очки за упражнения** - за очки в каждом конкретном типе упражнения:
  - `counting` - счет
  - `decomposition` - состав чисел
  - `firstGradeDecomposition` - состав чисел (1 класс)
  - `multiplication` - умножение
  - `equations` - уравнения

### 3. Поведение системы

- Каждое достижение разблокируется **только один раз**
- При повторном входе на главную страницу уже разблокированные достижения не проверяются
- Новые достижения появятся при выполнении условий
- Система сохраняет прогресс в localStorage

### 4. Где еще работает

Проверка достижений также работает в реальном времени при решении упражнений:
- В `CountingView.vue` - после каждого правильного ответа
- Планируется добавить в другие упражнения

## Примеры достижений

### За общие очки
- **Первые шаги** - 10 общих очков
- **Собиратель очков** - 100 общих очков
- **Мастер очков** - 500 общих очков
- **Легенда очков** - 1000 общих очков

### За упражнения
- **Любитель счета** - 30 очков в счете
- **Эксперт счета** - 100 очков в счете
- **Скоростной счет** - решить 20 примеров за минуту
- **Знаток таблицы** - 200 очков в умножении
- **Решатель уравнений** - 50 решенных уравнений

## Тесты

Система покрыта тестами:
- Базовые функции store
- Компоненты отображения
- Интеграционные тесты
- Тесты для проверки разблокировки

Запуск тестов:
```bash
# Все базовые тесты
npm run test src/store/__tests__/achievements.basic.test.ts src/components/__tests__//AchievementCard.test.ts

# Интеграционные тесты
npm run test src/store/__tests__/achievements.integration.test.ts

# Тесты главной страницы
npm run test src/views/__tests__/HomeView.achievements.simple.test.ts
```