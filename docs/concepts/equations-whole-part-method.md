# Концепция: Решение уравнений методом "целое и части"

> **Статус:** Черновик концепции
> **Дата:** 2025-02-10
> **Для:** PRD по добавлению интерактивного решения уравнений

---

## 1. Обзор

### 1.1 Цель

Добавить в MathTrainer интерактивный режим решения уравнений методом "целое и части" с пошаговым объяснением.

### 1.2 Контекст

- **Уже существует:** Решение простых уравнений подбором (не изменять)
- **Реализовано:** Вычитание в столбик с пошаговым режимом (использовать как паттерн)
- **Новая функциональность:** Осознанное решение уравнений через понимание структуры

### 1.3 Целевая аудитория

Дети 1-2 класс, которые уже:
- Умеют складывать и вычитать в уме (числа до 100)
- Знакомы с понятием уравнения (решали подбором)

---

## 2. Педагогическая основа

### 2.1 Метод "целое и части"

Базовая концепция связи между сложением и вычитанием:

```
Сложение:    ЦЕЛОЕ = часть₁ + часть₂
Вычитание:   часть = ЦЕЛОЕ − другая часть
```

### 2.2 Типы уравнений

Обрабатываются три типа (только сложение/вычитание, числа до 100):

| Тип | Уравнение | Что найти | Правило |
|-----|-----------|-----------|---------|
| 1 | `x + 5 = 12` | Неизвестное слагаемое | `часть = целое - часть` |
| 2 | `12 - x = 5` | Вычитаемое | `вычитаемое = уменьшаемое - разность` |
| 3 | `x - 5 = 7` | Уменьшаемое | `уменьшаемое = разность + вычитаемое` |

### 2.3 Отличие от режима подбора

| Характеристика | Режим подбора | Метод "целое и части" |
|----------------|---------------|----------------------|
| Мышление | "Какое число + 5 = 12?" | "Целое = 12, часть = 5, найти другую часть" |
| Масштабируемость | Только малые числа | Любые числа до 100 |
| Навык | Интуитивный подбор | Алгоритмический подход |

---

## 3. Объяснение концепции (Яблоки в корзинке)

### 3.1 Вводный экран (перед первыми примерами)

```
┌─────────────────────────────────────────────────────────┐
│                   Как решать уравнения?                  │
├─────────────────────────────────────────────────────────┤
│                                                          │
│               Представь корзинку с яблоками!             │
│                                                          │
│                    ┌─────────────┐                      │
│                    │  ┌───────┐  │  ← Вся корзинка = ЦЕЛОЕ
│                    │  │ 🍎🍎🍎 │  │    (всего яблок)    │
│                    │  │  🍎🍎  │  │                      │
│                    │  └───────┘  │                      │
│                    └─────────────┘                      │
│                                                          │
│         Яблоки можно разделить на две группы:           │
│                                                          │
│         ┌──────────┐       и       ┌──────────┐        │
│         │ ГРУППА 1 │                │ ГРУППА 2 │        │
│         │ (часть 1)│                │ (часть 2)│        │
│         │   🍎🍎   │                │    🍎    │        │
│         └──────────┘                └──────────┘        │
│                                                          │
│         Часть 1 + Часть 2 = ЦЕЛОЕ                       │
│                                                          │
│──────────────────────────────────────────────────────────│
│                                                          │
│  Правило:                                                │
│                                                          │
│  • Когда части ВМЕСТЕ — это сложение                    │
│    (часть + часть = целое)                              │
│                                                          │
│  • Когда часть УБРАЛИ — это вычитание                   │
│    (целое - часть = другая часть)                       │
│                                                          │
│                    [Понял! Начать]                      │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 3.2 Примеры объяснения для каждого типа уравнения

**Тип 1: `x + 5 = 12` (найти неизвестное слагаемое)**

```
┌─────────────────────────────────────────────────────────┐
│                    x + 5 = 12                           │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  В корзинке 12 яблок. 5 яблок на видке,                 │
│  остальные спрятаны. Сколько спрятано?                  │
│                                                          │
│         ┌─────────────────────────┐                     │
│         │      ЦЕЛОЕ = 12 🍎      │                     │
│         ├──────────────┬──────────┤                     │
│         │              │          │                     │
│         │   спрятаны   │  видно   │                     │
│         │      ?       │    5     │                     │
│         │   (часть1)   │ (часть2) │                     │
│         └──────────────┴──────────┘                     │
│                                                          │
│  Чтобы найти спрятанные яблоки:                         │
│  ЦЕЛОЕ - видимая часть = спрятанная часть               │
│  12 - 5 = 7                                             │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

**Тип 2: `12 - x = 5` (найти вычитаемое)**

```
┌─────────────────────────────────────────────────────────┐
│                    12 - x = 5                           │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  В корзинке было 12 яблок. Несколько яблок               │
│  забрали, осталось 5. Сколько яблок забрали?            │
│                                                          │
│         ┌─────────────────────────┐                     │
│         │      ЦЕЛОЕ = 12 🍎      │                     │
│         ├──────────────┬──────────┤                     │
│         │              │          │                     │
│         │   забрали    │ осталось │                     │
│         │      ?       │    5     │                     │
│         └──────────────┴──────────┘                     │
│                                                          │
│  Чтобы найти забранные яблоки:                          │
│  ЦЕЛОЕ - осталось = забрали                             │
│  12 - 5 = 7                                             │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

**Тип 3: `x - 5 = 7` (найти уменьшаемое)**

```
┌─────────────────────────────────────────────────────────┐
│                    x - 5 = 7                            │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  В корзинке были яблоки. Забрали 5 яблок,               │
│  осталось 7. Сколько яблок было изначально?             │
│                                                          │
│         ┌─────────────────────────┐                     │
│         │      ЦЕЛОЕ = ? 🍎      │                     │
│         ├──────────────┬──────────┤                     │
│         │              │          │                     │
│         │   забрали    │ осталось │                     │
│         │      5       │    7     │                     │
│         └──────────────┴──────────┘                     │
│                                                          │
│  Чтобы найти сколько было:                              │
│  забрали + осталось = было изначально                  │
│  5 + 7 = 12                                             │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 3.3 Переход от объяснения к практике

После объяснения пользователь видит первый пример с уже знакомой схемой:

```
      ┌───┬───┐
      │ ? │ 3 │
      └───┴───┘
        = 8

    Правило: часть = целое - другая часть
```

Квадрат — это "вид сверху" на корзинку с яблоками.

---

## 4. Визуализация

### 4.1 Схема "целое и части" (Уровень 1)

Минималистичный квадрат без избыточных надписей:

```
      ┌───┬───┐
      │ x │ 5 │
      └───┴───┘
        = 12
```

**Принципы:**
- Квадрат = целое (визуально очевидно)
- Разделение вертикальной чертой = две части
- Равенство внизу = сумма
- Никаких надписей "целое"/"часть" — схема говорит сама за себя

### 3.2 Пример для разных типов уравнений

**Тип 1: `x + 5 = 12` (найти часть)**
```
      ┌───┬───┐
      │ ? │ 5 │     ? = 12 - 5 = 7
      └───┴───┘
        = 12
```

**Тип 2: `12 - x = 5` (найти вычитаемое)**
```
      ┌───┬───┐
      │ ? │ 5 │     ? = 12 - 5 = 7
      └───┴───┘
        = 12
```

**Тип 3: `x - 5 = 7` (найти уменьшаемое)**
```
      ┌───┬───┐
      │ 7 │ 5 │     ? = 7 + 5 = 12
      └───┴───┘
        = ?
```

---

## 5. Система уровней поддержки (Scaffolding)

### 5.1 Три уровня

```
┌─────────────────────────────────────────────────────┐
│  УРОВЕНЬ 1: Визуальная схема                        │
│  • Квадрат с разделением показан всегда             │
│  • Никаких текстовых меток                          │
│  • Минимум 10 уравнений                             │
│  • Минимум 75% правильных                           │
│  • Не более 3 ошибок подряд в конце блока           │
└─────────────────────────────────────────────────────┘
                        ↓ (условия выполнены)
┌─────────────────────────────────────────────────────┐
│  УРОВЕНЬ 2: Текстовые метки                         │
│  • Надписи "целое"/"часть" над числами              │
│  • Квадрат скрыт                                    │
│  • Минимум 10 уравнений                             │
│  • 85% правильных                                   │
│  • Не более 2 ошибок подряд                        │
└─────────────────────────────────────────────────────┘
                        ↓ (условия выполнены)
┌─────────────────────────────────────────────────────┐
│  УРОВЕНЬ 3: Никакой поддержки                       │
│  • Чистое уравнение                                 │
│  • Кнопка "Подсказка" → показывает Уровень 1        │
│  • Если 3 ошибки подряд → предложение вернуться     │
│    на Уровень 2 (по выбору ребёнка)                 │
└─────────────────────────────────────────────────────┘
```

### 5.2 Условия успеха

**Правильное решение =**
- Правильный числовой ответ **И**
- Правильный выбор операции (сложение или вычитание)

**Переход на следующий уровень:**
Все три условия должны быть выполнены:
1. Минимальное количество уравнений (10)
2. Минимальный процент правильных (75% / 85%)
3. Максимум ошибок подряд (3 / 2)

---

## 6. Пользовательский сценарий

### 6.1 Первый запуск

```
1. Пользователь выбирает "Решение уравнений"
2. Система показывает первый пример на Уровне 1
3. Экран:

      ┌───┬───┐
      │ ? │ 3 │        ? + 3 = 8
      └───┴───┘
        = 8

   [ ]: ____
   [-]: ____

4. Пользователь выбирает операцию и вводит ответ
```

### 6.2 Система подсказок (Уровень 3)

На Уровне 3 доступна кнопка "Подсказка" (бесплатно):

```
x + 5 = 12          [Подсказка]

При нажатии:

      ┌───┬───┐
      │ x │ 5 │
      └───┴───┘
        = 12
```

Подсказка показывает схему (Уровень 1), временно.

---

## 7. Интерфейс и взаимодействие

### 7.1 Структура экрана (Уровень 1)

```
┌─────────────────────────────────────────────────────────┐
│                    Решение уравнений                     │
├─────────────────────────────────────────────────────────┤
│                                                          │
│                    ┌───┬───┐                            │
│                    │ ? │ 3 │                            │
│                    └───┴───┘                            │
│                      = 8                                │
│                                                          │
│         Правило: часть = целое - другая часть            │
│                                                          │
│   ┌─────────────┐    ┌─────────────┐                   │
│   │     +       │    │     -       │                   │
│   │  (сложить)  │    │ (вычесть)   │                   │
│   └─────────────┘    └─────────────┘                   │
│                                                          │
│           ┌─────────────────────┐                      │
│           │      Ответ: ____     │                      │
│           └─────────────────────┘                      │
│                                                          │
│                    [Проверить]                          │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 7.2 Структура экрана (Уровень 2)

```
┌─────────────────────────────────────────────────────────┐
│                    Решение уравнений                     │
├─────────────────────────────────────────────────────────┤
│                                                          │
│              x       +       3       =       8           │
│            часть            часть      целое             │
│                                                          │
│         Правило: часть = целое - другая часть            │
│                                                          │
│   ┌─────────────┐    ┌─────────────┐                   │
│   │     +       │    │     -       │                   │
│   └─────────────┘    └─────────────┘                   │
│                                                          │
│           ┌─────────────────────┐                      │
│           │      Ответ: ____     │                      │
│           └─────────────────────┘                      │
│                                                          │
│                    [Проверить]                          │
│                    [Подсказка]                          │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 7.3 Структура экрана (Уровень 3)

```
┌─────────────────────────────────────────────────────────┐
│                    Решение уравнений                     │
├─────────────────────────────────────────────────────────┤
│                                                          │
│                    x + 3 = 8                             │
│                                                          │
│   ┌─────────────┐    ┌─────────────┐                   │
│   │     +       │    │     -       │                   │
│   └─────────────┘    └─────────────┘                   │
│                                                          │
│           ┌─────────────────────┐                      │
│           │      Ответ: ____     │                      │
│           └─────────────────────┘                      │
│                                                          │
│                    [Проверить]          [Подсказка]     │
│                                                          │
│                  Прогресс: 7/10 (85%)                   │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 7.4 Система обратной связи

**Правильный ответ:**
- Зелёная рамка вокруг схемы/уравнения
- Анимация "галочки"
- Переход к следующему примеру через 1 секунду

**Неправильная операция:**
- Красная подсветка выбранной операции
- Текст: "Подумай: целое больше части. Какая операция?"

**Неправильное число:**
- Красная рамка вокруг поля ввода
- Текст: "Попробуй ещё раз"

### 7.5 Переход между уровнями

При выполнении условий для перехода:

```
┌─────────────────────────────────────────────────────────┐
│                    Отлично!                             │
│                                                          │
│           Ты освоился с этим уровнем!                   │
│                                                          │
│      Теперь попробуем решать без подсказок              │
│                                                          │
│                                                          │
│              [Перейти дальше]    [Практиковаться ещё]   │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 8. Технические требования

### 8.1 Генерация примеров

- Числа: от 1 до 100
- Сумма/разность: от 2 до 100
- Исключение: отрицательные числа (x не может быть отрицательным)

### 8.2 Хранение прогресса

- Текущий уровень (1/2/3)
- Количество решённых уравнений на уровне
- Процент правильных решений
- Счётчик ошибок подряд
- История типов ошибок

### 8.3 Адаптивность

При ошибках:
- Анализ типа ошибки (неправильная операция vs неправильное число)
- Предложение вернуться на предыдущий уровень после 3 ошибок подряд

---

## 9. Отличия от режима подбора

| Характеристика | Подбор | Метод "целое и части" |
|----------------|--------|----------------------|
| Ввод | Только число | Операция + число |
| Визуализация | Нет | Квадрат (Уровень 1) |
| Диапазон чисел | Малые (до 20) | До 100 |
| Цель | Интуитивное решение | Понимание структуры |

---

## 10. Открытые вопросы

### 10.1 Решённые вопросы

| Вопрос | Решение | Обоснование |
|--------|---------|-------------|
| Как анимировать появление схемы? | Мгновенно | Не отвлекает от задачи, схема "просто есть" |
| Как показывать правило вычисления? | Текстом под схемой | Всегда доступно для справки |

### 10.2 Решённые вопросы (часть 2)

| Вопрос | Решение | Обоснование |
|--------|---------|-------------|
| Нужно ли озвучивание? | Только текст | Консистентно с остальными упражнениями |
| Как обрабатывать возврат? | Автоматически на Уровень 2 после 3 ошибок | Предотвращает фрустрацию |

### 10.3 Решённые вопросы (часть 3)

| Вопрос | Решение | Обоснование |
|--------|---------|-------------|
| Какая метафора для объяснения? | Яблоки в корзинке | Понятная, визуальная, классическая метафора |

### 10.4 Требуют решения

- [ ] Какой шрифт/размер для схемы (адаптивность)?

### 10.5 Будущие расширения

- [ ] Умножение и деление (другая схема визуализации)
- [ ] Уравнения с двумя неизвестными
- [ ] Составные уравнения

---

## 11. Референсы

- **Вычитание в столбик:** Паттерн пошагового режима
- **Теория:** Scaffolding (леса) в обучении математике
- **Возрастная психология:** Переход от наглядно-образного к абстрактному мышлению

---

## 12. Следующие шаги

1. Утвердить концепцию
2. Написать полный PRD на основе этого документа
3. Создать дизайн-макеты для всех трёх уровней
4. Определить метрики успеха для A/B тестирования
